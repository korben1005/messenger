<div class="user-edit-page">
  <div class="user-edit-container">
    <h1 class="page-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è {{login}}</h1>
    <div class="file-upload-container">
      <input
        type="file"
        (change)="onFileSelected($event)"
        id="fileInput"
        style="display: none;"
      />
      <img class="avatar" [src]="preview()" alt="">
      <button class="attach-button" (click)="triggerFileInput()">
        üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª
      </button>
    </div>
    <form class="user-edit-form" [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label class="form-label">–ò–º—è</label>
        <input
          id="firstName"
          formControlName="username"
          type="text"
          class="form-input"
          placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è"
        />
      </div>

      <div class="form-group">
        <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
        <textarea
          id="description"
          formControlName="description"
          rows="4"
          class="form-textarea"
          placeholder="–û —Å–µ–±–µ"
        ></textarea>
      </div>

      <div>
        <input class="search-cities" formControlName="city" [formControl]="searchControl" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞" (blur)="hideDropdown()" (focus)="showDropdown = true">
        @if (filteredCities) {
          <ul class="list-cities">
            @for (city of filteredCities; track city.id) {
              <li class="city" (click)="selectCity(city.city)">{{city.city}}</li>
            }
          </ul>
        }
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ -->
      <button class="form-button" type="submit" [disabled]="userForm.invalid">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </form>
  </div>
</div>
